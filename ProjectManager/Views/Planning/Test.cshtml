
@{
    ViewBag.Title = "Test";
}

@section scripts{

<script src="~/Scripts/d3/d3.js"></script>
<script src="~/Scripts/moment.js"></script>
 <script>

     $(function () {
         var numTasks = 50;
         var numDays = 100;

         var svgContainer = d3.select("#container").append("svg")
                                   .attr("width", function(){return 50 * numDays + 10})
                                   .attr("height", function () { return 100 * numTasks + 10 });

         //add the first row for the dates
         var now = new Date(Date.now());
         var count = 0;
         var daysOfYear = [];
         for (var d = new Date(2015, 1, 1) ; d <= new Date(2015, 4, 31) ; d.setDate(d.getDate() + 1)) {
             if (count % 7 == 0) {
                 var recHeader = svgContainer.append("rect")
                                .attr("x", function () { return ((count + 1) * 20) })
                                .attr("y", 0)
                                .attr("width", 140)

                                .attr("height", 20)
                                .attr("stroke-width", 1)
                                .attr("stroke", "black")
                                .style("fill", "white");

                 var headerText = svgContainer.append("text").text(function () { return d.toDateString() })
                                          .attr("x", function () { return ((count + 1) * 20) + 5 })
                                          .attr("y", 15)
                                          .attr("fill", "red");
             }
             var rec = svgContainer.append("rect")
                            .attr("x", function () { return ((count + 1) * 20) })
                            .attr("y", 20)
                            .attr("width", 20)
                 
                            .attr("height", 20)
                            .attr("stroke-width", 1)
                            .attr("stroke", "black")
                            .style("fill", "white");

             var text = svgContainer.append("text").text(function () { return moment().isoWeekday(d.getDay()).toString().substr(0,1) })
                                                   .attr("x", function () { return ((count + 1) * 20) + 5 })
                                                   .attr("y", 35)
                                                   .attr("fill", "red");

             count++;
         }


         //for (var t = 0; t < numTasks; t++) {
         //    for (var d = 0; d < numDays; d++) {
         //        svgContainer.append("rect")
         //                       .attr("x", function () { return ((d + 1) * 50) - 40 })
         //                       .attr("y", function () { return ((t + 1) * 100) - 90 })
         //                       .attr("width", 50)
         //                       .attr("height", 100)
         //                       .attr("stroke-width", 2)
         //                       .attr("stroke", "black")
         //                       .style("fill", "white");
         //    }
         //}
     });

    </script>
    }; 
<h2>Test</h2>
<div id="container" ></div>