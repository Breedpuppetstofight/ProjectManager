
@{
    ViewBag.Title = "Index";
}

<div id="planNode">
    <table class="table table-bordered table-responsive table-striped">
        <thead>
            <tr>
                <th rowspan="2">TaskName</th>
                <th rowspan="2">Work</th>
                <th rowspan="2">Resource</th>
                <th rowspan="2">Start</th>
                <th rowspan="2">Finish</th>
                <th colspan="5">Week1</th>
                <th colspan="5">Week2</th>
            </tr>
            <tr>
                <th>M</th>
                <th>T</th>
                <th>W</th>
                <th>T</th>
                <th>F</th>
                <th>M</th>
                <th>T</th>
                <th>W</th>
                <th>T</th>
                <th>F</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: tasks">
            <tr>
                <td data-bind="text: TaskName"></td>
                <td data-bind="text: Work"></td>
                <td data-bind="text: Resource"></td>
                <td data-bind="text: StartDate"></td>
                <td><div class="draggable" style="height:9px; width:19px; background-color:aliceblue; border:1px solid black;"></div></td>
            </tr>
        </tbody>
    </table>
    <div id="item1" style="height:200px; width:200px; background-color:aliceblue;"></div>
    <pre data-bind="text: ko.toJSON($data, null, 2)"></pre>
</div>

@section scripts{
    <script src="~/Models/ViewModels/Planning/PlannedTask.js"></script>
    <script src="~/Models/ViewModels/Planning/PlanViewModel.js"></script>
<script src="~/Scripts/jquery.tiny-draggable.min.js"></script>
<script src="~/Models/ViewModels/Planning/data.js"></script>
    <script>

        $(function () {
            var vm = new PlanViewModel(data);

            var dom = document.getElementById("planNode");
            ko.applyBindings(vm, dom);

           // vm.setupDateColumns();

            $(".draggable").tinyDraggable();
        })

    </script>
    
}


